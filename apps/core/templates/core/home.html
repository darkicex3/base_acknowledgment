{% extends "core/base.html" %}

{% if user.is_authenticated %}

    {% block title %}Knowledge Base{% endblock %}

    {% block menu_sidebar %}
        <div class="widget widget-menus">
            <div class="menu-left-menu-container">
                <div class="user_profile">
                    <form method="post">{% csrf_token %}
                        {% if request.user.is_superuser %}
                            <a class="user-profile-link" href="{% url 'admin:auth_user_change' request.user.id %}">
                                <div id="img_profile"></div>
                            </a>
                        {% elif request.user.is_staff %}
                            <a class="user-profile-link" href="{% url 'admin:auth_user_change' request.user.id %}">
                                <div id="img_profile"></div>
                            </a>
                        {% else %}
                            <div id="img_profile"></div>
                        {% endif %}
                    </form>
                    <div id="detail_profile">
                        <p class="username">
                            {% if request.user.get_full_name %}
                                {{ request.user.get_full_name.title }}
                            {% else %}
                                {{ request.user.username.title }}
                            {% endif %}</p>
                        <form method="post">{% csrf_token %}
                            {% if request.user.is_superuser %}
                                <a class="admin-link" href="{% url 'admin:index' %}"><p class="user-type administrator">
                                    Administrator</p></a>
                            {% elif request.user.is_staff %}
                                <p class="user-type staff">Staff User</p>
                            {% else %}
                                <p class="user-type normal">Basic User</p>
                            {% endif %}
                        </form>
                        <hr>
                        <p class="badge">{{ request.user.points }}</p>
                    </div>
                </div>
                <ul id="menu-left-menu-1" class="menu base_menu static"></ul>
                <ul class="mega-shorcuts variable"></ul>
                <ul class="shorcuts variable"></ul>
                <ul class="pastilles variable"></ul>
            </div>
        </div>

        <div class="copyright static">
            <form method="post">{% csrf_token %}
                {% if request.user.is_staff %}
                    <a href="{% url 'admin:article_category_add' %}" class="add-button">Add Shortcut<i
                            class="add-logo material-icons md-18 width18 color_base">add</i></a>
                    <a href="{% url 'admin:article_category_changelist' %}" class="add-button">Manage Shortcuts</a>
                {% endif %}
            </form>
            Â©2016 Teledirect Pte Ltd <br>
            <a href="#">Terms & Privacy</a>
        </div>

    {% endblock %}

    {% block content %}
        <div class="">
        <div class="master-feed">

            {#        Search Module        #}
            <div class="search-section">
                <div id="search-section-inner-content">
                    <button class="search_section" type="button" id="search_categories"><i
                            class="material-icons color_base md-36 first-item">more_horiz</i></button>
                    <button class="search_section" type="button" id="search_sorting"><i
                            class="sorting material-icons color_base md-36 first-item">sort</i></button>
                    <form id="search_bar" method="post" action="{% url 'articles:articles_search_view' %}"
                          class="autocomplete-me">
                        {% csrf_token %}
                        <input class="search_section" id="search_field"
                               placeholder="What are you looking for ?" type="text" id="id_q" name="q">
                        <input type="hidden" value="Search!">
                        <div class="clear-search-bar"><i class="material-icons color_base" style="position: relative;
                        top:10px">close</i></div>
                    </form>
                </div>
            </div>

            {#        Results Module        #}
            <div class="results">
                <table class="table-article table table-condensed table-hover table-striped"
                       id="result_list grid-data">
                    <thead>
                    <tr>
                        <th id="title" data-column-id="title" scope="col"
                            class="column padding-left-list column-title"
                            style="padding: 10px 5px; border-radius: 2px 0 0 0;"><a>Title</a>
                        </th>
                        <th data-column-id="publish_date" class="column column-publish_date"
                            style="padding: 10px 5px;width: 115px;"><a>Published</a>
                        </th>
                        <th data-column-id="modified" class="column column-modified" style="padding: 10px 5px;width: 115px;">
                            <a>Modified</a>
                        </th>
                        <th data-column-id="big_up" data-type="numeric" scope="col"
                            class="column column-useful_counter" style="padding: 10px 30px 6px 2px; width: 30px;"><a><i
                                class="table-icon useful-active material-icons md-18 width18 color_bigup">thumb_up</i></a></th>
                        <th data-column-id="favorites" data-type="numeric" scope="col"
                            class="column column-favorite_counter" style="padding: 10px 30px 6px 2px; width: 30px;"><a><i
                                class="table-icon material-icons md-18 width18 color_base_favorite">favorite</i></a>
                        </th>
                        <th data-column-id="views" data-type="numeric" scope="col"
                            class="column column-view_counter"
                            style="padding: 10px 30px 6px 2px;border-radius: 0 2px 0 0;width: 30px;"><a><i
                                class="table-icon material-icons remove_red_eye color_base md-18 width18">remove_red_eye</i></a>
                        </th>
                    </tr>
                    </thead>

                    <tbody></tbody>
                </table>
            </div>

            {#        Manager Module For Administrator Only        #}
            <div class="manager-module">
                <form method="post">{% csrf_token %}
                    {% if request.user.is_staff %}
                        {% load admin_urls %}
                        <a href="{% url 'admin:article_article_add' %}" class="add-button">Add New Articles<i
                                class="material-icons md-18 width18 color_base"
                                style="float: right;top: 1px;">add</i></a>
                        <a href="{% url 'admin:article_article_changelist' %}" class="add-button">Manage
                            Articles</a>
                    {% endif %}
                </form>
            </div>
        </div>

        <div class="card right-sidebar">
            <div class="front">
                    <div class="module daily-recap">
                        <p>Daily Recap</p>


                    </div>
                    <div class="module popular-article">
                        <p>Popular Articles</p>
                    </div>
                    <div class="module popular-tags">
                        <p>Popular Tags</p>

                    </div>
            </div>
            <div class="back">
                <div class="">
                    <div class="big-module">
                        <p>Filter</p>
                    </div>
                </div>
            </div>
        </div>
    {% endblock %}
{% endif %}





